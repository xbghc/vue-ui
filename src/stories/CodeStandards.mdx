import { Meta } from '@storybook/blocks';

<Meta title="Development/Code Standards" />

# ğŸ“ ä»£ç è§„èŒƒ

æœ¬é¡¹ç›®ä½¿ç”¨ä¸¥æ ¼çš„ä»£ç è§„èŒƒç¡®ä¿ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ã€‚

## ğŸ› ï¸ å·¥å…·é…ç½®

### ESLint

- **ç‰ˆæœ¬**: ESLint 9.x (æœ€æ–°æ‰å¹³é…ç½®æ ¼å¼)
- **é…ç½®æ–‡ä»¶**: `eslint.config.js`
- **ä¸»è¦è§„åˆ™åŒ…**:
  - `@eslint/js` - JavaScript åŸºç¡€è§„åˆ™
  - `eslint-plugin-vue` - Vue 3 ä¸“ç”¨è§„åˆ™
  - `@typescript-eslint/*` - TypeScript è§„åˆ™

### Prettier

- **é…ç½®æ–‡ä»¶**: `.prettierrc`
- **å¿½ç•¥æ–‡ä»¶**: `.prettierignore`
- **ä¸»è¦è®¾ç½®**:
  - å•å¼•å·, 2 ç©ºæ ¼ç¼©è¿›, è¡Œæœ«åˆ†å·, å°¾éšé€—å·

### EditorConfig

- **é…ç½®æ–‡ä»¶**: `.editorconfig`
- **ç»Ÿä¸€è®¾ç½®**: ç¼–ç ã€æ¢è¡Œç¬¦ã€ç¼©è¿›ç­‰åŸºç¡€æ ¼å¼

## ğŸ¯ å¯ç”¨å‘½ä»¤

### ä»£ç æ£€æŸ¥

```bash
# è¿è¡Œ ESLint æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤ ESLint é—®é¢˜
npm run lint:fix

# æ£€æŸ¥ Prettier æ ¼å¼
npm run format:check

# è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
npm run format

# TypeScript ç±»å‹æ£€æŸ¥
npm run type-check
```

### ç»„åˆå‘½ä»¤

```bash
# å®Œæ•´æ£€æŸ¥ (ç±»å‹ + lint + æ ¼å¼)
npm run check

# è‡ªåŠ¨ä¿®å¤æ‰€æœ‰é—®é¢˜
npm run fix
```

## ğŸ–¥ï¸ VSCode ä»»åŠ¡

é¡¹ç›®é…ç½®äº† VSCode ä»»åŠ¡ï¼Œå¯é€šè¿‡ `Ctrl+Shift+P` â†’ "Tasks: Run Task" è®¿é—®ï¼š

- ğŸ”§ ä»£ç æ£€æŸ¥ (ESLint)
- ğŸ”§ ä¿®å¤ä»£ç é—®é¢˜ (ESLint)
- ğŸ’… ä»£ç æ ¼å¼åŒ– (Prettier)
- ğŸ’… æ£€æŸ¥ä»£ç æ ¼å¼ (Prettier)
- âœ… å®Œæ•´ä»£ç æ£€æŸ¥
- ğŸ› ï¸ ä¿®å¤æ‰€æœ‰é—®é¢˜

## ğŸ“‹ æ ¸å¿ƒè§„åˆ™

### Vue ç»„ä»¶è§„åˆ™

- âœ… ç»„ä»¶åä½¿ç”¨ PascalCase
- âœ… æ¨¡æ¿ä¸­ç»„ä»¶ä½¿ç”¨ PascalCase
- âœ… äº‹ä»¶åä½¿ç”¨ camelCase
- âœ… å¿…é¡»æ˜¾å¼å£°æ˜ emits
- âœ… ä»£ç å—é¡ºåº: template â†’ script â†’ style
- âœ… æä¾›æ— éšœç¢è®¿é—®æ”¯æŒ

### TypeScript è§„åˆ™

- âš ï¸ é¿å…ä½¿ç”¨ `any` ç±»å‹ (è­¦å‘Š)
- âŒ ç¦æ­¢æœªä½¿ç”¨å˜é‡ (é™¤ `_` å¼€å¤´)
- âœ… æ¨èä½¿ç”¨ const è€Œé let

### ä»£ç æ ¼å¼è§„åˆ™

- âœ… ä½¿ç”¨å•å¼•å·
- âœ… è¯­å¥æœ«å°¾åˆ†å·
- âœ… å¤šè¡Œæ—¶å°¾éšé€—å·
- âœ… 2 ç©ºæ ¼ç¼©è¿›
- âœ… æ–‡ä»¶æœ«å°¾æ¢è¡Œ
- âœ… ç®­å¤´å‡½æ•°é—´è·

### ç”Ÿäº§ç¯å¢ƒ

- âš ï¸ console è¯­å¥ (ç”Ÿäº§ç¯å¢ƒè­¦å‘Š)
- âŒ debugger è¯­å¥ (ç”Ÿäº§ç¯å¢ƒé”™è¯¯)

## ğŸ—‚ï¸ æ–‡ä»¶ç±»å‹é…ç½®

### Storybook æ–‡ä»¶ (`*.stories.ts`)

- å…è®¸ console è¾“å‡º
- å…è®¸ any ç±»å‹
- æä¾› browser å…¨å±€å˜é‡

### é…ç½®æ–‡ä»¶ (`vite.config.*`, `.storybook/**/*`)

- å…è®¸ console è¾“å‡º
- å…è®¸ Node.js å˜é‡ (process ç­‰)
- å…è®¸ require è¯­æ³•

### å¿½ç•¥æ–‡ä»¶

- `dist/` - æ„å»ºè¾“å‡º
- `node_modules/` - ä¾èµ–åŒ…
- `storybook-static/` - Storybook æ„å»º
- `**/*.d.ts` - ç±»å‹å£°æ˜æ–‡ä»¶

## ğŸ’¡ æœ€ä½³å®è·µ

### å¼€å‘å·¥ä½œæµ

1. **å®æ—¶æ£€æŸ¥**: ç¼–å†™ä»£ç æ—¶ IDE ä¼šè‡ªåŠ¨æ˜¾ç¤º lint é”™è¯¯
2. **æäº¤å‰æ£€æŸ¥**: è¿è¡Œ `npm run check` ç¡®ä¿ä»£ç è´¨é‡
3. **è‡ªåŠ¨ä¿®å¤**: ä½¿ç”¨ `npm run fix` è‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜
4. **æ‰‹åŠ¨ä¿®å¤**: ç±»å‹é”™è¯¯éœ€è¦æ‰‹åŠ¨ä¿®å¤

### ä»£ç è´¨é‡

- ä¼˜å…ˆä½¿ç”¨ TypeScript ç±»å‹è€Œé any
- éµå¾ª Vue 3 Composition API æœ€ä½³å®è·µ
- ä¿æŒä»£ç å¯è¯»æ€§å’Œä¸€è‡´æ€§
- é¿å…å¤æ‚çš„åµŒå¥—ç»“æ„

### å›¢é˜Ÿåä½œ

- æ‰€æœ‰ä»£ç å¿…é¡»é€šè¿‡ lint æ£€æŸ¥
- ä½¿ç”¨ç»Ÿä¸€çš„ä»£ç æ ¼å¼
- æ³¨é‡Šä½¿ç”¨ä¸­æ–‡ï¼Œå˜é‡åä½¿ç”¨è‹±æ–‡
- æäº¤ä¿¡æ¯éµå¾ªçº¦å®šå¼æäº¤æ ¼å¼

## ğŸ¯ å¼€å‘å“²å­¦

### Modern First, No Legacy Support

æœ¬é¡¹ç›®ä¼˜å…ˆä½¿ç”¨ç°ä»£ Web æ ‡å‡†ï¼Œä¸ç»´æŠ¤è¿‡æ—¶ç‰ˆæœ¬çš„å‘åå…¼å®¹æ€§ï¼š

- **ES2020+ è¯­æ³•ç‰¹æ€§** - ä¸æä¾›ä¼ ç»Ÿå›é€€æ–¹æ¡ˆ
- **ç°ä»£ CSS ç‰¹æ€§** - CSS å˜é‡ã€Gridã€Flexbox
- **æœ€æ–° Vue 3 API** - Composition APIã€`<script setup>`
- **ç°ä»£æ„å»ºå·¥å…·** - Viteã€ESMã€TypeScript

### ä»£ç é£æ ¼è¦æ±‚

```vue
<!-- âœ… æ¨èçš„ Vue ç»„ä»¶ç»“æ„ -->
<template>
  <div class="component-name">
    <slot name="trigger" />
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue';
import type { ComponentProps } from './types';

// Props å’Œ Emits
const props = defineProps<ComponentProps>();
const emit = defineEmits<{
  show: [];
  hide: [];
}>();

// å“åº”å¼æ•°æ®
const isVisible = ref(false);

// è®¡ç®—å±æ€§
const classes = computed(() => ({
  'component-name--visible': isVisible.value,
}));

// æ–¹æ³•
const show = () => {
  isVisible.value = true;
  emit('show');
};
</script>

<style scoped lang="scss">
.component-name {
  /* ä½¿ç”¨ CSS å˜é‡ */
  background: var(--component-bg-color, #fff);

  &--visible {
    opacity: 1;
  }
}
</style>
```

### TypeScript æœ€ä½³å®è·µ

```typescript
// âœ… æ¨èçš„ç±»å‹å®šä¹‰
export interface ComponentProps {
  content: string;
  placement: 'top' | 'bottom' | 'left' | 'right';
  disabled?: boolean;
}

// âœ… æ¨èçš„æšä¸¾å®šä¹‰
export enum Placement {
  Top = 'top',
  Bottom = 'bottom',
  Left = 'left',
  Right = 'right',
}

// âœ… æ¨èçš„å·¥å…·ç±»å‹
export type ComponentEmits = {
  show: [];
  hide: [];
};
```

## ğŸ“ é…ç½®æ–‡ä»¶æ¦‚è§ˆ

```
.
â”œâ”€â”€ eslint.config.js     # ESLint 9.x é…ç½®
â”œâ”€â”€ .prettierrc          # Prettier æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ .prettierignore      # Prettier å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .editorconfig        # ç¼–è¾‘å™¨åŸºç¡€é…ç½®
â””â”€â”€ .vscode/
    â””â”€â”€ tasks.json       # VSCode ä»»åŠ¡é…ç½®
```

## ğŸš€ Git Hooks

é¡¹ç›®ä½¿ç”¨ Git Hooks ç¡®ä¿ä»£ç è´¨é‡ï¼š

### Pre-commit

- è‡ªåŠ¨è¿è¡Œ `npm run check`
- ç¡®ä¿æäº¤çš„ä»£ç ç¬¦åˆè§„èŒƒ
- é˜²æ­¢ä½è´¨é‡ä»£ç è¿›å…¥ä»“åº“

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨çº¦å®šå¼æäº¤æ ¼å¼ï¼š

```bash
# åŠŸèƒ½æ·»åŠ 
feat: æ·»åŠ æ–°çš„ç»„ä»¶åŠŸèƒ½

# é—®é¢˜ä¿®å¤
fix: ä¿®å¤ç»„ä»¶æ ·å¼é—®é¢˜

# æ–‡æ¡£æ›´æ–°
docs: æ›´æ–° API æ–‡æ¡£

# ä»£ç é‡æ„
refactor: é‡æ„ç»„ä»¶é€»è¾‘

# æ€§èƒ½ä¼˜åŒ–
perf: ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“æ€§èƒ½

# æµ‹è¯•ç›¸å…³
test: æ·»åŠ ç»„ä»¶æµ‹è¯•ç”¨ä¾‹

# æ„å»ºç›¸å…³
build: æ›´æ–°æ„å»ºé…ç½®
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¼€å‘ç¯å¢ƒæ­å»º](/docs/development-setup--docs) - æœ¬åœ°å¼€å‘é…ç½®
- [è´¡çŒ®æŒ‡å—](/docs/development-contributing--docs) - å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘
- [Storybook æŒ‡å—](/docs/development-storybook--docs) - Storybook å¼€å‘è¯´æ˜
